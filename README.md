# Link - í…ìŠ¤íŠ¸ ê¸°ë°˜ ëŒ€í™” ì•±
<img width="933" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-04 16 35 54" src="https://github.com/RaeBaek/LSLProject/assets/88128192/6569504e-b674-4368-b2c0-4c319afeb9b4">
</br>

## ğŸ“¸ Screen Shot
<img width="933" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-04 21 41 32" src="https://github.com/RaeBaek/LSLProject/assets/88128192/3556e7f0-492a-42d8-97a5-9c3ada9ebec6">
</br>

## ğŸ“„ í•œ ì¤„ ì†Œê°œ
ì–´ë– í•œ ì£¼ì œë“  ìƒê°ì„ ê³µìœ í•  ìˆ˜ ìˆëŠ” í…ìŠ¤íŠ¸ ê¸°ë°˜ ëŒ€í™” ì•± Linkì…ë‹ˆë‹¤.
</br>
</br>

## ğŸ“ƒ ì„œë¹„ìŠ¤ íŠ¹ì§•
- íšŒì›ì¸ì¦: ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³  ìˆìœ¼ë©° íšŒì›ê°€ì…ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤
- ê²Œì‹œê¸€: í˜„ì¬ ë‚´ ìƒê°ì— ëŒ€í•œ ê²Œì‹œê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ ê°€ëŠ¥
- ì „ì²´ ê²Œì‹œê¸€: í™ˆ í™”ë©´ì—ì„œ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ì‘ì„±í•œ ê²Œì‹œê¸€ í™•ì¸ ê°€ëŠ¥
- ë‹µê¸€: ê²Œì‹œê¸€ì— ëŒ€í•œ ë‹µê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ ê°€ëŠ¥
- ì¢‹ì•„ìš”: ê²Œì‹œê¸€ì— ëŒ€í•œ ì¢‹ì•„ìš” / ì¢‹ì•„ìš” ì·¨ì†Œ ê°€ëŠ¥
- íŒ”ë¡œìš°: ë‹¤ë¥¸ ìœ ì € í”„ë¡œí•„ ë°©ë¬¸ì„ í†µí•´ ì‘ì„±í•œ ê²Œì‹œê¸€ í™•ì¸ ë° íŒ”ë¡œìš° ê°€ëŠ¥
- ì¢‹ì•„ìš” ëª©ë¡: ë‚´ê°€ ì¢‹ì•„ìš”í•œ ê²Œì‹œê¸€ë“¤ì„ ì¢‹ì•„ìš” íƒ­ì—ì„œ í™•ì¸ ê°€ëŠ¥
- ë§ˆì´ í”„ë¡œí•„: ë‚´ í”„ë¡œí•„ í™”ë©´ì„ í†µí•´ ë‚´ í”„ë¡œí•„ ì¡°íšŒ ë° í¸ì§‘ì´ ê°€ëŠ¥í•˜ë©° ì„¤ì • ë²„íŠ¼ì„ í†µí•´ ë¡œê·¸ì•„ì›ƒ, íšŒì›íƒˆí‡´ ê°€ëŠ¥
</br>

## âš™ï¸ í•µì‹¬ ê¸°ëŠ¥
- Moyaì˜ **TargetType**ì„ ì±„íƒí•˜ì—¬ **Router Pattern** êµ¬ì„±
- Alamofireì˜ **RequestInterceptor**ì„ ì‚¬ìš©í•˜ì—¬ token í™•ì¸ ë° ê°±ì‹  í›„ **ìë™ ë¡œê·¸ì¸** êµ¬í˜„
- **RxDataSources**ë¥¼ í™œìš©í•´ **2ê°œ ì´ìƒ**ì˜ UITableView **Section**ì— ëŒ€í•´ ëŒ€ì‘
- RxCocoaì˜ **prefetchRows**ë¥¼ í™œìš©í•˜ì—¬ **í˜ì´ì§€ë„¤ì´ì…˜** êµ¬í˜„
- jpegDataì˜ **compressionQuality**ë¥¼ í™œìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ 1MBê¹Œì§€ **ì••ì¶•**ì‹œì¼œ ì„œë²„ì— ì—…ë¡œë“œ
- Kingfisherì˜ AnyModifierë¥¼ í™œìš©í•´ **ì´ë¯¸ì§€ ìºì‹± ë° ë‹¤ìš´ë¡œë“œ** êµ¬í˜„
- **ì‹œê°„ ë³µì¡ë„**ë¥¼ ê³ ë ¤í•˜ì—¬ **Dictionary**ë¥¼ í™œìš©í•œ **ì‹¤ì‹œê°„ ì¢‹ì•„ìš” ë° ë‹µê¸€** ìƒíƒœ í™•ì¸ êµ¬í˜„
- NotificationCenterë¥¼ í™œìš©í•´ **ê²Œì‹œê¸€, ë‹µê¸€ ì‘ì„± ì‹œ ë°ì´í„° ê°±ì‹ ** êµ¬í˜„
- propertyWrapperë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µë˜ëŠ” **UserDefaults ì‚¬ìš©ì ì •ë³´** ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ êµ¬ì„±
- **UIKeyboardLayoutGuide**ì„ í™œìš©í•œ ê²Œì‹œê¸€ ë° ë‹µê¸€ ê²Œì‹œ, ì™„ë£Œ ë²„íŠ¼ êµ¬ì„±
</br>

## ğŸ“ ê°œë°œí™˜ê²½ ë° ê¸°ê°„
- ê¸°íš: SeSAC Memolease (API ì œê³µ)
- ë””ìì¸ ë° ê°œë°œ: 1ì¸ ê°œë°œ
- Swift 5.9
- Xcode 15.0.1
- Mininum Deployment Target iOS 17.0
- 2023.11.13 ~ 2023.12.17 (35ì¼ê°„, ì•½ 5ì£¼)
</br>

## ğŸ› ï¸ ê¸°ìˆ ìŠ¤íƒ
- RxSwift, RxCocoa, RxDataSources, UIKit
- MVVM, In-Out Pattern
- Moya, Alamofire, RequestInterceptor, Codable
- Snapkit, Kingfisher
- UserDefaults, Repository, Protocol, PropertyWrapper
</br>

## ğŸ“» API
- **íšŒì›ì¸ì¦**
    - íšŒì›ê°€ì…, ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸, ë¡œê·¸ì¸, Access Token ê°±ì‹ , íšŒì›íƒˆí‡´
- **í¬ìŠ¤íŠ¸(ê²Œì‹œê¸€)**
    - í¬ìŠ¤íŠ¸ ì‘ì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ, ìœ ì €ë³„ ì‘ì„±í•œ í¬ìŠ¤íŠ¸ ì¡°íšŒ
- **ëŒ“ê¸€(ì½”ë©˜íŠ¸)**
    - ëŒ“ê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ
- **ì¢‹ì•„ìš”**
    - í¬ìŠ¤íŠ¸ ì¢‹ì•„ìš” / ì¢‹ì•„ìš” ì·¨ì†Œ
    - ì¢‹ì•„ìš”í•œ í¬ìŠ¤íŠ¸ ì¡°íšŒ
- **íŒ”ë¡œìš°**
    - íŒ”ë¡œìš° / ì–¸íŒ”ë¡œìš°
- **í”„ë¡œí•„**
    - ë‚´ í”„ë¡œí•„ ì¡°íšŒ, ìˆ˜ì •, ë‹¤ë¥¸ ìœ ì € í”„ë¡œí•„ ì¡°íšŒ
</br>

## âš½ï¸ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
### Alamofireì˜ RequestInterceptorë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ê²ªì—ˆë˜ Schedulersì˜ ì„ íƒ
- ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” Moyaë¥¼ ì‚¬ìš©í•´ ë³´ì•˜ëŠ”ë° MoyaëŠ” Alamofireë¥¼ í•œ ë²ˆ ë” ì¶”ìƒí™”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.
- Alamofireë¥¼ ì¶”ìƒí™”í–ˆê¸°ì— Moyaì—ì„œë„ Alamofireì˜ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° RequestInterceptorë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.
- RequestInterceptorì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” ë¡œê·¸ì¸ ì‹œ tokenê³¼ refreshToken ê´€ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ì˜€ë‹¤.
- tokenì€ ë§Œë£Œë˜ì—ˆì§€ë§Œ refreshTokenì€ ì•„ì§ ìœ íš¨í•˜ë‹¤ë©´ refreshTokenì„ ì´ìš©í•˜ì—¬ tokenì„ ê°±ì‹ í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ì˜€ë‹¤.
- ê°±ì‹ ì„ ìœ„í•´ RequestInterceptor í”„ë¡œí† ì½œì„ ë‹¤ë£¨ë©° ê²ªì—ˆë˜ Trouble Shootingì€ ì•„ë˜ì˜ ì½”ë“œë¡œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.

### ìˆ˜ì • ì „ ì½”ë“œ
- retry ë©”ì„œë“œ ë‚´ .observe(on: MainScheduler.asyncInstance), MainScheduler ì„ ì–¸
- .observe(on: MainScheduler.asyncInstance) ë¯¸ ì„ ì–¸ ì‹œ moyaì˜ sync error ë°œìƒ
- MainSchedulerë¡œ ì‘ì„±í•˜ê³  ë„˜ì–´ê°”ì—ˆì§€ë§Œ ì¶”í›„ ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì„ Main Threadì—ì„œ í•´ì£¼ëŠ” ê²ƒì´ ê³¼ì—° ì˜¬ë°”ë¥¸ ì½”ë“œì¼ê¹Œë¼ëŠ” ì˜ë¬¸ì„ ì œê¸°
```ruby
func retry(_ request: Request, for session: Session, dueTo error: Error, completion: @escaping (RetryResult) -> Void) {
    guard let response = request.task?.response as? HTTPURLResponse, response.statusCode == 419 else {
        completion(.doNotRetryWithError(error))
        return
    }
        
    let task = Observable.just(())
        
    task
        .observe(on: MainScheduler.asyncInstance)
        .flatMap { _ in
            self.repository.requestAccessToken()
        }
        .subscribe(onNext: { result in
            switch result {
            case .success(let data):
                UserDefaultsManager.token = data.token
                completion(.retry)
            case .failure(let error):
                completion(.doNotRetryWithError(error))
            }
        })
        .disposed(by: disposeBag)
    }
}
```

### ìˆ˜ì • í›„ ì½”ë“œ
- ìˆ˜ì • ì „ì—ëŠ” Schedulerì˜ ê°œë…ê³¼ ì¢…ë¥˜ë¥¼ ì˜ ëª¨ë¥´ê³  ë‹¨ìˆœ ë™ì‘ì„ ìœ„í•´ MainSchedulerë¡œ ì‘ì„±í•˜ì˜€ë‹¤.
- RxSwiftì˜ Schedulerì— ëŒ€í•´ ì°¾ì•„ë³´ë‹ˆ SerialDispatchQueueSchedulerê°€ ìˆì—ˆê³ 
- MainSchedulerëŠ” SerialDispatchQueueSchedulerì˜ ì¸ìŠ¤í„´ìŠ¤ ì¤‘ í•˜ë‚˜ì„ì„ ì•Œê²Œë˜ì—ˆë‹¤.
- ë˜í•œ SerialDispatchQueueSchedulerëŠ” qosë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°
- qosì˜ ì¢…ë¥˜ ì¤‘ userInitiatedê°€ API í†µì‹ ì— ì í•©í•¨ì„ í™•ì¸í•˜ì˜€ë‹¤.
```ruby
func retry(_ request: Request, for session: Session, dueTo error: Error, completion: @escaping (RetryResult) -> Void) {
    guard let response = request.task?.response as? HTTPURLResponse, response.statusCode == 419 else {
        completion(.doNotRetryWithError(error))
        return
    }
    let task = Observable.just(())

    task
        .observe(on: SerialDispatchQueueScheduler.init(qos: .userInitiated))
        .withUnretained(self)
        .flatMap { owner, _ in
            owner.repository.requestAccessToken()
        }
        .subscribe(onNext: { result in
            switch result {
            case .success(let data):
                print(UserDefaultsManager.token)
                UserDefaultsManager.token = data.token
                completion(.retry)
            case .failure(let error):
                completion(.doNotRetryWithError(error))
            }
        })
        .disposed(by: disposeBag)
    }
}
```
</br>

## ğŸ“Œ íšŒê³ 
- í”„ë¡œì íŠ¸ í›„ê¸°
- ë§ì€ ê²½í—˜ê³¼ ì„±ì¥ì„ í•  ìˆ˜ ìˆì—ˆë˜ í”„ë¡œì íŠ¸
    - ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” Moyaë¥¼ ì‚¬ìš©í•˜ì˜€ê³  Moyaì˜ **TargetType** í”„ë¡œí† ì½œì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ Network Layerë¥¼ í…œí”Œë¦¿ í™”í•˜ì—¬ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³  request, responseì— ì§‘ì¤‘í•  ìˆ˜ ìˆì—ˆë‹¤.
    - ë©˜í†  ë¶„ë“¤ê»˜ì„œ ì§ì ‘ ì„œë²„ë¥¼ êµ¬ì„±í•˜ì‹œê³  API ëª…ì„¸ì„œë¥¼ ì œê³µí•´ ì£¼ì…”ì„œ ë°±ì—”ë“œì™€ í´ë¼ì´ì–¸íŠ¸ì˜ **í˜‘ì—…**ì„ ê²½í—˜í•  ìˆ˜ ìˆì—ˆë‹¤.
    - API ëª…ì„¸ì„œë¥¼ ì œê³µë°›ìœ¼ë©° Restful APIë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆìœ¼ë©° HTTP Method(GET, POST, PUT, DELETE)ë¥¼ ëª¨ë‘ ì‚¬ìš©í•´ ë³¼ ìˆ˜ ìˆì—ˆë‹¤.
    - ê°œë°œì„ ì§„í–‰í•˜ë©° ì „ì²´ í¬ìŠ¤íŠ¸ì— ëŒ€í•œ APIëŠ” ìˆì—ˆìœ¼ë‚˜ í¬ìŠ¤íŠ¸ ê°œë³„ APIëŠ” ì—†ì—ˆëŠ”ë° ê²Œì‹œë¬¼ì— ëŒ€í•œ detail í™”ë©´ì„ ë³´ì—¬ì¤˜ì•¼ í–ˆë˜ ë‚˜ì˜ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê°œë³„ í¬ìŠ¤íŠ¸ì— ëŒ€í•œ APIê°€ í•„ìš”í•˜ì—¬ ë©˜í†  ë¶„ë“¤ì—ê²Œ **ìš”ì²­**ë“œë ¸ê³  ì‹¤ì œ í˜„ì—…ì—ì„œë„ ë°±ì—”ë“œ ê°œë°œìì™€ API ìš”ì²­ ê±´ìœ¼ë¡œ ë§ì€ ëŒ€í™”ë¥¼ ë‚˜ëˆˆë‹¤ê³  ë§ì”€í•´ ì£¼ì‹œê³  ê°œë³„ í¬ìŠ¤íŠ¸ APIë¥¼ ì¶”ê°€í•´ ì£¼ì…¨ë‹¤.
    - ë˜í•œ **MVVM** êµ¬ì¡°ë¡œ ê°œë°œí•˜ë©° RxSwiftì™€ **In-Out Pattern**ì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸°ì  ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.
    - ì´ì „ê¹Œì§€ RxSwiftë¥¼ ì‚¬ìš©í•´ ë³¸ ì ì´ ì—†ì—ˆìœ¼ë‚˜ ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ RxSwift, RxCocoa, MVVM êµ¬ì¡°, In-OutPut Patternë“¤ì„ ë‹¤ì–‘í•˜ê²Œ í”„ë¡œì íŠ¸ì— ë…¹ì—¬ë³´ë©´ì„œ ì´ì „ê³¼ëŠ” ë‹¤ë¥¸ ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤.
    
- ì•„ì‰¬ì› ë˜ ì 
- Rest API ìš”ì²­ ì‹œ Overfetcingê³¼ Underfetchingì˜ ê²½í—˜
    - ê³µìš© APIì˜€ë˜ ê²ƒ ë§Œí¼ Overfetcingê³¼ Underfetchingì„ ê²½í—˜í•  ìˆ˜ ìˆì—ˆë‹¤.
    - ë‚´ í”„ë¡œí•„ í™”ë©´ì—ì„œ APIë¥¼ 2ê°œ í˜¸ì¶œí–ˆì–´ì•¼í–ˆë˜ Underfetching
    - ê°œë³„ í¬ìŠ¤íŠ¸ ì¡°íšŒ APIê°€ ì¶”ê°€ë˜ê¸° ì „ ê¹Œì§€ ê²Œì‹œê¸€ ë””í…Œì¼ í™”ë©´ì€ ì „ì²´ í¬ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹í•˜ëŠ” ê²Œì‹œê¸€ idë¥¼ ë¹„êµ í›„ ë°ì´í„°ë¥¼ ë°”ì¸ë”©í–ˆì—ˆë˜ Overfetcing ì •ë„ê°€ ìˆì—ˆë‹¤.
    - swiftì—ì„œ Overfetcingê³¼ Underfetching í•´ê²°ì— ëŒ€í•´ êµ¬ê¸€ë§í•´ë³´ë‹ˆ GraphQLì´ë€ ê²ƒì´ ìˆì—ˆê³  Restful APIì˜ ë‹¨ì ì„ í•´ì†Œí•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì¸ ê²ƒ ê°™ì•˜ë‹¤.
    - ë˜í•œ iOSì—ì„œëŠ” GraphQLì„ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Apollo ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.
    - í•˜ì§€ë§Œ ìƒˆë¡œìš´ ê¸°ìˆ ì„ ì ìš©í•  ì‹œê°„ì´ ë§ì§€ëŠ” ì•Šì•˜ë˜ ì´ë²ˆ í”„ë¡œì íŠ¸ì˜€ê¸°ì— ì ìš©í•˜ì§€ ëª»í•œ ë¶€ë¶„ì´ ì•„ì‰¬ì› ë‹¤.
    - ëìœ¼ë¡œ ë‹¤ìŒ í”„ë¡œì íŠ¸ì—ì„œëŠ” Apollo ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œ GraphQL ê¸°ìˆ ì„ ì ìš©ì‹œì¼œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ëŠ” íšŒê³ ë¥¼ ë‚¨ê¸´ë‹¤!

<details>
    <summary>Moyaì˜ TargetType í™œìš©</summary>

```ruby
extension SeSACAPI: TargetType {

    var baseURL: URL {
        URL(string: APIKey.sesacURL)!
    }
    
    var path: String {
        switch self {
        case .signUp:
            return "join"  
        ...
        
        case .like(let model):
            return "post/like/\(model.id)"
        ...
          
        }
    }
    
    var method: Moya.Method {
        switch self {
        case .accessToken, .withdraw, .allPost, .downloadImage, .myProfile, .userPosts, .userProfile, .aPost, .likes:
            return .get
            
        case .signUp, .emailValidation, .login, .postAdd, .commentAdd, .follow, .like:
            return .post
            
        case .postEdit, .profileEdit, .commentEdit:
            return .put
        
        case .postDel, .commentDel, .unfollow:
            return .delete
            
        }
    }
    
    var task: Moya.Task {
        switch self {
        case .signUp(let model):
            return .requestJSONEncodable(model)
        ...
            
        case .accessToken, .withdraw, .downloadImage, .myProfile, .userPosts, .postDel, .userProfile, .follow, .likes, .unfollow, .aPost, .like:
            return .requestPlain
            
        case .allPost(let model):
            return .requestParameters(parameters: ["next": model.next, "limit": model.limit, "product_id": model.productID], encoding: URLEncoding.queryString)
            
        case .postAdd(let model), .postEdit(let model, _):
            if let file = model.file {
                let imageData = MultipartFormData(provider: .data(file), name: "file", fileName: "image.jpg", mimeType: "image/jpg")
                let title = MultipartFormData(provider: .data((model.title?.data(using: .utf8)!) ?? Data()), name: "title")
                let productId = MultipartFormData(provider: .data((model.productID?.data(using: .utf8)!)!), name: "product_id")
                
                return .uploadMultipart([imageData, title, productId])
                
            } else {
                let title = MultipartFormData(provider: .data((model.title?.data(using: .utf8)!)!), name: "title")
                let productId = MultipartFormData(provider: .data((model.productID?.data(using: .utf8)!)!), name: "product_id")
                
                return .uploadMultipart([title, productId])
            }
        }
    }
    
    var headers: [String : String]? {
        let key = APIKey.sesacKey
        let token = UserDefaultsManager.token
        let refreshToken = UserDefaultsManager.refreshToken
        
        switch self {
        case .signUp, .emailValidation, .login:
            return ["Content-Type": "application/json", "SesacKey": key]
            ...
            
        case .postAdd, .postEdit, .profileEdit:
            return ["Authorization": token, "SesacKey": key, "Content-Type": "multipart/form-data"]
        }
        
    }
    
    var validationType: ValidationType {
        return .successCodes
    }
    
}
```

</details>

- In-Output Pattern í™œìš©

```ruby
final class BirthdayViewModel: ViewModelType {
    
    struct Input {
        let inputText: ControlProperty<Date>
        let nextButtonClicked: ControlEvent<Void>
        let skipButtonClicked: ControlEvent<Void>
    }
    
    struct Output {
        let statusText: BehaviorRelay<String>
        let textStatus: PublishRelay<Bool>
        let borderStatus: PublishRelay<Bool>
        let loginStatus: PublishRelay<Bool>
    }
    
    func transform(input: Input) -> Output {
        ...
    }
}

final class BirthdayViewController: BaseViewController {

    private let viewModel = BirthdayViewModel()

    override func viewDidLoad() {
        super.viewDidLoad()
        bind()
        
    }
    
    func bind() {
        let input = BirthdayViewModel.Input(inputText: datePicker.rx.value,
                                    nextButtonClicked: nextButton.rx.tap,
                                    skipButtonClicked: skipButton.rx.tap)
        
        let output = viewModel.transform(input: input)
        
        output.textStatus
            .withUnretained(self)
            .bind { owner, value in
                owner.statusLabel.isHidden = value
            }
            .disposed(by: disposeBag)
        
        output.borderStatus
            .withUnretained(self)
            .bind { owner, value in
                owner.customTextField.layer.borderColor = value ? UIColor.systemGray4.cgColor : UIColor.systemRed.cgColor
            }
            .disposed(by: disposeBag)
        ...
    
    }
}
```

- RxSwiftë¥¼ í™œìš©í•œ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ Stream ì—°ê²° ë° API í˜¸ì¶œ

```ruby
input.signInButtonClicked
    .withLatestFrom(input.emailText) { _, email in
        return email
    }
    .withLatestFrom(input.passwordText) { email, password in
        return (email, password)
    }
    .withUnretained(self)
    .flatMap { owner, value in
        owner.repository.requestLogin(email: value.0, password: value.1)
    }
    .subscribe(onNext: { value in
        switch value {
        case .success(let data):
            input.token.accept(UserDefaultsManager.token)
            
        case .failure(let error):
            guard let loginError = LoginError(rawValue: error.rawValue) else {
                outputText.accept(error.message)
                textStatus.accept(false)
                borderStatus.accept(false)
                return
            }
            outputText.accept(loginError.message)
            textStatus.accept(false)
            borderStatus.accept(false)
        }
    })
    .disposed(by: disposeBag)
```
